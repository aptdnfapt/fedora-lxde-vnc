services:
  gluetun:
    image: qmcgaw/gluetun
    container_name: gluetun-surfshark
    cap_add:
      - NET_ADMIN
    devices:
      - /dev/net/tun:/dev/net/tun
    environment:
      # VPN Provider Settings
      - VPN_SERVICE_PROVIDER=surfshark
      - VPN_TYPE=wireguard

      # WireGuard Settings (REQUIRED - replace with your actual values)
      - WIREGUARD_PRIVATE_KEY=${WIREGUARD_PRIVATE_KEY}
      - WIREGUARD_ADDRESSES=${WIREGUARD_ADDRESSES}

      # Server Selection (optional)
      - SERVER_COUNTRIES=Netherlands
      # - SERVER_REGIONS=
      # - SERVER_CITIES=
    ports:
      - 5901:5901/tcp  # VNC port for fedora-vnc
    restart: unless-stopped

  fedora-vnc:
    build: .
    container_name: fedora-vnc
    network_mode: "service:gluetun"
    environment:
      - RESOLUTION=1280x720
    depends_on:
      - gluetun
    restart: unless-stopped
